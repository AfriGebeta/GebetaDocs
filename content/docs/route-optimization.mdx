---
title: Route Optimization API
description: The Route Optimization API is designed to identify the most efficient routes based on specific criteria, such as minimizing travel time, distance, cost, or environmental impact.
---

## Key Features

### With the Route Optimization API, you can:

- **Optimize Routes**:  
  Retrieve the best route(s) for multiple origins and destinations while considering factors such as traffic conditions, road restrictions, vehicle specifications, and user preferences.

- **Comprehensive Route Details**:  
  Access detailed information, including:
  - **Order of Visits**: The recommended sequence for your stops.
  - **Total Travel Time and Distance**: Clear insights into the duration and length of your journey.
  - **Estimated Arrival and Departure Times**: Get accurate time predictions for your trip.
  - **Route Instructions**: Step-by-step navigation to ensure a smooth journey.

## Use Cases

<Cards>
  <Card title="Road Trip Planning" description="Plan your road trip by finding the best route to visit multiple destinations." icon="ðŸš—">
    - Specify your budget and time limit to get the optimal route.
    - Maximize enjoyment by incorporating preferred attractions.
    - Minimize expenses with efficient route suggestions.
  </Card>

  <Card title="Fleet Management" description="Manage your fleet effectively by optimizing routes for vehicles and drivers." icon="ðŸšš">
    - Assign tasks and priorities to each vehicle and driver.
    - Meet business goals with optimal routing solutions.
    - Enhance customer satisfaction with timely deliveries.
  </Card>

  <Card title="Delivery Route Optimization" description="Find the best routes for delivery trucks and couriers." icon="ðŸ“¦">
    - Optimize routes based on delivery time windows and capacity.
    - Reduce fuel consumption for cost-effective deliveries.
    - Ensure timely deliveries while maximizing courier skills.
  </Card>

  <Card title="Commute Optimization" description="Find the best route for your daily commute based on your transportation mode." icon="ðŸšŒ">
    - Compare travel time, distance, cost, and environmental impact.
    - Choose the best option between driving, biking, or public transit.
    - Enhance daily commuting experience with informed choices.
  </Card>
</Cards>

## Usage

```bash
curl https://mapapi.gebeta.app/api/route/tss/?json=[]&apiKey={yourapikey}
```

### Parameters

| **Parameter**        | **Type**      | **Description**                                                                                              | **Required** |
|----------------------|---------------|--------------------------------------------------------------------------------------------------------------|--------------|
| `json`               | `string[]`    | An array of semicolon-separated latitude and longitude pairs to specify which places to visit along the way. | `yes`        |
| `apiKey`             | `string`      | Your API key for accessing Gebeta Maps.                                                                      | `yes`        |

## Response Codes for Route Optimization API

| Status Code | Message                         | Description                                                                                       |
|-------------|---------------------------------|---------------------------------------------------------------------------------------------------|
| `200`       | `OK`                            | The request was successful. The system found a valid route and returned the requested data.       |
| `404`       | `NoRoute`                       | No route exists between the specified locations. Confirm that the locations are accessible by route. |
| `401`       | `Not Authorized - No Token`     | Authentication failed. No valid token was provided. Please include a valid authentication token.   |
| `401`       | `Not Authorized - Invalid Token` | The authentication token provided is either invalid or expired. Use a current, valid token.       |
| `422`       | `InvalidInput`                  | The request parameters are incorrect. Review the input values and adjust as needed.               | 


## Route Optimization API - CURL Request

To get a route using the TSS API, you can use the following `curl` command:

```bash
curl "https://mapapi.gebeta.app/api/route/tss/?json=[{8.989022,38.79036},{9.03045,38.76530}]&apiKey={your-api-key}"
```

### Example

<Tabs items={['JavaScript', 'Rust', 'Go', 'PHP', 'Python', 'Ruby', 'Dart']}>
  <Tab value="JavaScript">
  ```javascript
fetch('https://mapapi.gebeta.app/api/route/tss/?json=[{8.989022,38.79036},{9.03045,38.76530}]&apiKey={your-api-key}')
  .then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));
  ```
  </Tab>
  
  <Tab value="Rust">
  ```rust
use reqwest::blocking::get;
use std::collections::HashMap;

fn main() {
    let api_key = "{your-api-key}";
    let coordinates = "{8.989022,38.79036},{9.03045,38.76530}";
    let url = format!(
        "https://mapapi.gebeta.app/api/route/tss/?json=[{}]&apiKey={}",
        coordinates, api_key
    );

    let response: HashMap<String, String> = get(&url)
        .unwrap()
        .json()
        .unwrap();

    println!("{:?}", response);
}
  ```
  </Tab>
  
  <Tab value="Go">
  ```go 
package main

import (
    "encoding/json"
    "fmt"
    "net/http"
)

func main() {
    apiKey := "{your-api-key}"
    coordinates := "{8.989022,38.79036},{9.03045,38.76530}"
    
    url := fmt.Sprintf("https://mapapi.gebeta.app/api/route/tss/?json=[%s]&apiKey=%s&includeCoordinate=1", coordinates, apiKey)

    resp, err := http.Get(url)
    if err != nil {
        panic(err)
    }
    defer resp.Body.Close()

    var result map[string]interface{}
    json.NewDecoder(resp.Body).Decode(&result)
    fmt.Println(result)
}
  ```
  </Tab>
  
  <Tab value="PHP">
  ```php
<?php
$apiKey = "{your-api-key}";
$coordinates = "{8.989022,38.79036},{9.03045,38.76530}";
$url = "https://mapapi.gebeta.app/api/route/tss/?json=[{$coordinates}]&apiKey={$apiKey}";

$response = file_get_contents($url);
$data = json_decode($response, true);
print_r($data);
?>
  ```
  </Tab>
  
  <Tab value="Python">
  ```python
import requests

api_key = "{your-api-key}"
coordinates = "{8.989022,38.79036},{9.03045,38.76530}"
url = f"https://mapapi.gebeta.app/api/route/tss/?json=[{coordinates}]&apiKey={api_key}"

response = requests.get(url)
data = response.json()
print(data)
  ```
  </Tab>
  
  <Tab value="Ruby">
  ```ruby
require 'net/http'
require 'json'

api_key = "{your-api-key}"
coordinates = "{8.989022,38.79036},{9.03045,38.76530}"
url = URI("https://mapapi.gebeta.app/api/route/tss/?json=[#{coordinates}]&apiKey=#{api_key}")

response = Net::HTTP.get(url)
data = JSON.parse(response)
puts data
  ```
  </Tab>
  
  <Tab value="Dart">
  ```dart
import 'dart:convert';
import 'package:http/http.dart' as http;

void main() async {
  String apiKey = "{your-api-key}";
  String coordinates = "{8.989022,38.79036},{9.03045,38.76530}";
  String url = "https://mapapi.gebeta.app/api/route/tss/?json=[$coordinates]&apiKey=$apiKey";

  final response = await http.get(Uri.parse(url));

  if (response.statusCode == 200) {
    var data = json.decode(response.body);
    print(data);
  } else {
    print('Error: ${response.statusCode}');
  }
}
  ```  
  </Tab>
</Tabs>

<Accordions>
  <Accordion title="Success Response">
  ```json
{
  "msg": "msg",
  "bestorder": [0, 1, 0],
  "timetaken": 3378.349,
  "totalDistance": 10135.047,
  "originalorder": [0, 1],
  "direction": [
    [9.043366432189941, 38.73268127441406],
    [9.043094635009766, 38.732704162597656],
    [9.042902946472168, 38.73270797729492],
    [9.042774200439453, 38.73270034790039],
    [9.042774200439453, 38.73270034790039],
    [9.042774200439453, 38.73270034790039],
    [9.042774200439453, 38.73270034790039],
    [9.04254150390625, 38.7326774597168],
    [9.042280197143555, 38.732635498046875],
    [9.042116165161133, 38.73260498046875],
    [9.042116165161133, 38.73260498046875],
    [9.042116165161133, 38.73260498046875],
    [9.041897773742676, 38.73255920410156],
    [9.041755676269531, 38.73252487182617],
    [9.041674613952637, 38.73250198364258],
    [9.041603088378906, 38.73247528076172]
  ]
}
  ```
  </Accordion>
  <Accordion title="Error Response">
    ```json
"error": {
        "additional": null,
        "code": "A_ERR00004",
        "message": "Invalid access token!",
        "status": 401
    }
    ```
  </Accordion>
</Accordions>

## API Limits and Restrictions

The Route Optimization API has some restrictions and limits that you need to be aware of before using it:

- **Coordinates Waypoints**: Should only be less than or equal to 10.
- **Rate Limit**: 50 requests per second from a single API token. If you exceed this limit, you will receive an error message and your requests will be rejected. To avoid this, you can throttle your requests or use multiple tokens for different applications or users.
- **Inter-Country Requests**: Not allowed. You can only request directions within the same country or region. If you try to request directions across different countries or regions, you will receive an error message, and your request will be invalid. For inter-country travel, consider using other map services or APIs that support this feature.

## Pricing

The Route Optimization API charges you based on the number of elements you request. An element is the travel time and distance between one origin and one destination. The price per element decreases as you request more elements:

| Request Volume               | Cost per 10,000 Elements |
|------------------------------|---------------------------|
| `First 1,000,000 elements`   | $2                        |
| `Next 4,000,000 elements`    | $1.75                     |
| `Next 5,000,000 elements`    | $1.5                      |
| `Over 10,000,000 elements`   | $1                        |

For example, if you request 20,000,000 elements, you will pay $20,000. Note that one Route Optimization API call is considered by the number of coordinates in the `json` array, so you will be charged accordingly. For more information, check the [pricing page](https://maps.gebeta.app/#/pricing).